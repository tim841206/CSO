<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="description" content="顧客與銷售訂單系統">
	<meta name="author" content="冷俊瑩">
	<link rel="stylesheet" href="resource/bootstrap.min.css">
	<script src="resource/jquery.min.js"></script>
	<script src="resource/bootstrap.min.js"></script>
	<title>顧客與銷售訂單系統</title>
	<header>
		<h1 style="text-align: center;">顧客與銷售訂單系統</h1>
	</header>
</head>
<body>
	<div class="container">
		<ul class="nav nav-tabs">
			<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">新增主檔維護<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a onclick="Replace('CreateMAS', 'CreateSLSMAS');">新增銷售員</a></li>
				<li><a onclick="Replace('CreateMAS', 'CreateCUSMAS');">新增顧客</a></li>
				<li><a onclick="Replace('CreateMAS', 'CreateCUSADD');">新增顧客地址</a></li>
				<li><a onclick="Replace('CreateMAS', 'CreateCUSREGION');">新增顧客地區</a></li>
				<li><a onclick="Replace('CreateMAS', 'CreateCUSCITY');">新增顧客城市</a></li>
				<li><a onclick="Replace('CreateMAS', 'CreateRELATION');">新增顧客地址城市關聯</a></li>
			</ul>
			</li>
			<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">修改主檔維護<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a onclick="Replace('EditMAS', 'EditSLSMAS')">修改銷售員</a></li>
				<li><a onclick="Replace('EditMAS', 'EditCUSMAS')">修改顧客</a></li>
				<li><a onclick="Replace('EditMAS', 'EditCUSADD')">修改顧客地址</a></li>
				<li><a onclick="Replace('EditMAS', 'EditCUSREGION')">修改顧客地區</a></li>
				<li><a onclick="Replace('EditMAS', 'EditCUSCITY')">修改顧客城市</a></li>
				<li><a onclick="Replace('EditMAS', 'EditRELATION')">修改顧客地址城市關聯</a></li>
			</ul>
			</li>
			<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">刪除主檔維護<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a onclick="Replace('DeleteMAS', 'DeleteSLSMAS')">刪除銷售員</a></li>
				<li><a onclick="Replace('DeleteMAS', 'DeleteCUSMAS')">刪除顧客</a></li>
				<li><a onclick="Replace('DeleteMAS', 'DeleteCUSADD')">刪除顧客地址</a></li>
				<li><a onclick="Replace('DeleteMAS', 'DeleteCUSREGION')">刪除顧客地區</a></li>
				<li><a onclick="Replace('DeleteMAS', 'DeleteCUSCITY')">刪除顧客城市</a></li>
				<li><a onclick="Replace('DeleteMAS', 'DeleteCUSADDCITY')">刪除顧客地址城市關聯</a></li>
			</ul>
			</li>
			<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">輸出主檔<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a onclick="Replace('ExportMAS', 'ExportSLSMAS')">輸出銷售員</a></li>
				<li><a onclick="Replace('ExportMAS', 'ExportCUSMAS')">輸出顧客</a></li>
				<li><a onclick="Replace('ExportMAS', 'ExportCUSADD')">輸出顧客地址</a></li>
				<li><a onclick="Replace('ExportMAS', 'ExportCUSREGION')">輸出顧客地區</a></li>
				<li><a onclick="Replace('ExportMAS', 'ExportCUSCITY')">輸出顧客城市</a></li>
			</ul>
			</li>
			<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">查詢主檔<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a onclick="Replace('SearchMAS', 'SearchSLSMAS')">查詢銷售員</a></li>
				<li><a onclick="Replace('SearchMAS', 'SearchCUSMAS')">查詢顧客</a></li>
				<li><a onclick="Replace('SearchMAS', 'SearchCUSADD')">查詢顧客地址</a></li>
				<li><a onclick="Replace('SearchMAS', 'SearchCUSREGION')">查詢顧客地區</a></li>
				<li><a onclick="Replace('SearchMAS', 'SearchCUSCITY')">查詢顧客城市</a></li>
				<li><a onclick="Replace('SearchMAS', 'SearchCUSADDCITY')">查詢顧客地址城市關聯</a></li>
			</ul>
			</li>
			<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">跨主檔查詢<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a onclick="Replace('CrossSearchMAS', 'SLSMASSearchCUSMAS')">銷售員查詢顧客</a></li>
				<li><a onclick="Replace('CrossSearchMAS', 'CUSMASSearchCUSADD')">顧客查詢顧客地址</a></li>
				<li><a onclick="Replace('CrossSearchMAS', 'CUSREGIONSearchCUSCITY')">顧客地區查詢顧客城市</a></li>
				<li><a onclick="Replace('CrossSearchMAS', 'CUSCITYSearchCUSADDCITY')">顧客城市查詢顧客地址城市關聯</a></li>
			</ul>
			</li>
			<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">訂單主檔維護<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a onclick="Replace('ORDMAS', 'CreateORDMAS')">新增訂單主檔</a></li>
				<li><a onclick="Replace('ORDMAS', 'EditORDMAS')">修改訂單主檔</a></li>
				<li><a onclick="Replace('ORDMAS', 'DeleteORDMAS')">刪除訂單主檔</a></li>
				<li><a onclick="Replace('ORDMAS', 'CreateORDMAT')">新增訂單材料</a></li>
				<li><a onclick="Replace('ORDMAS', 'EditORDMAT')">修改訂單材料</a></li>
				<li><a onclick="Replace('ORDMAS', 'DeleteORDMAT')">刪除訂單材料</a></li>
			</ul>
			</li>
			<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">查詢訂單主檔<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a onclick="Replace('SearchORDMAS', 'SLSMASSearchORDMAS')">銷售員查詢訂單主檔</a></li>
				<li><a onclick="Replace('SearchORDMAS', 'ORDNOSearchORDMAT')">訂單編號查詢訂單物料</a></li>
				<li><a onclick="Replace('SearchORDMAS', 'ORDNOSearchORDMAS')">訂單編號查詢訂單主檔</a></li>
				<li><a onclick="Replace('SearchORDMAS', 'ORDMATSearchORDMAS')">訂單物料查詢訂單主檔</a></li>
			</ul>
			</li>
			<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">發布訂單<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a onclick="Replace('PublishORDMAS', 'R_ORDMAS')">發布訂單</a></li>
				<li><a onclick="Replace('PublishORDMAS', 'C_ORDMAS')">正常關閉訂單</a></li>
				<li><a onclick="Replace('PublishORDMAS', 'F_ORDMAS')">強制關閉訂單</a></li>
				<li><a onclick="Replace('PublishORDMAS', 'RR_ORDMAS')">重生訂單</a></li>
			</ul>
			</li>
			<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">交易檔維護<span class="caret"></span></a>
			<ul class="dropdown-menu">
				<li><a onclick="Replace('Transaction', 'PrintPCK')">列印揀貨單</a></li>
				<li><a onclick="Replace('Transaction', 'SearchPCK')">查詢揀貨單</a></li>
				<li><a onclick="Replace('Transaction', 'PergePCK')">作廢揀貨單</a></li>
				<li><a onclick="Replace('Transaction', 'CreateINV')">新增發票</a></li>
				<li><a onclick="Replace('Transaction', 'PrintINV')">列印發票</a></li>
				<li><a onclick="Replace('Transaction', 'SearchINV')">查詢發票</a></li>
			</ul>
			</li>
		</ul>
	</div>
</body>

<script type="text/javascript">
	function Replace(module, event) {
		var request = new XMLHttpRequest();
		request.open("POST", "index.php");
		var data = "module=" + module + "&event=" + event;
		request.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
		request.send(data);

		request.onreadystatechange = function() {
			if (request.readyState === 4 && request.status === 200) {
				var data = JSON.parse(request.responseText);
				if (data.state == 0) {
					location.replace(data.destination);
				}
				else if (data.state == 1) {
					alert("無效的請求");
				}
				else if (data.state == 2) {
					alert("無效的請求模組");
				}
				else if (data.state == 3) {
					alert("無效的請求事件");
				}
			}
		}
	}
</script>